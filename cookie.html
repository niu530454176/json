<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<style>
		body {
			position: fixed;
			left: 0;
			right: 0;
			bottom: 0;
			top: 0;
		}
	</style>
</head>
<body>
<button id="btn">backgroundColor</button>
<script>
	var CookieHandler = {
		createCookie : function (name, value, days) {
			var expires;
			var date = new Date();

			if (days instanceof Date) {
				date = days;
			} else {
				days = days || 14;
				date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
			}
			expires = "; expires=" + date.toGMTString();
			document.cookie = encodeURIComponent(name) + "=" + encodeURIComponent(value) + expires + "; path=/";
		},
		readCookie: function (name) {
			var nameEncoded = encodeURIComponent(name) + "=";
			var cookieArray = document.cookie.split(';');
			for (var i = 0; i < cookieArray.length; i++) {
				var cookie = cookieArray[i];
				while (cookie.charAt(0) === ' ') cookie = cookie.substring(1, cookie.length);
//				console.log(cookie);
//				console.log(cookie.length);
//				console.log(cookie.substring(nameEncoded.length, cookie.length));
				if (cookie.indexOf(nameEncoded) === 0) return decodeURIComponent(cookie.substring(nameEncoded.length, cookie.length));
			}
			return null;
		},
		getCookieArray: function () {
			return document.cookie.split(';');
		},
		removeCookie: function (name) {
			this.createCookie(name, "", -1);
		}
	};

	/*var btn = document.getElementById('btn');

	btn.addEventListener('click', function () {
		document.body.style.backgroundColor = '#' + Math.random().toString(16).substr(2,6);
		var bodyBackgroundColor = document.body.style.backgroundColor;
		CookieHandler.createCookie('bodyBackgroundColor', bodyBackgroundColor);
	});
	var cookie = CookieHandler.readCookie('bodyBackgroundColor');
	if (cookie) {
		document.body.style.backgroundColor = cookie;
	} else {
		document.body.style.backgroundColor = '#' + Math.random().toString(16).substr(2,6);
		CookieHandler.createCookie('bodyBackgroundColor', document.body.style.backgroundColor);
	}*/


	//精简版
/*	var btn = document.getElementById('btn');
	btn.addEventListener('click', function () {
		setBgColor();
	});

	var bgColor = CookieHandler.readCookie('bgColor');
	setBgColor(bgColor);

	function setBgColor(bgColor) {
		if (!bgColor) {
			bgColor = '#' + Math.random().toString(16).substr(-6);
			CookieHandler.createCookie('bgColor', bgColor);
		}
		document.body.style.backgroundColor = bgColor
	}*/

</script>
</body>
</html>